[
    {
        "path": "/login",
        "method": "POST",
        "desc": "Make the login process with the given credentials",
        "headers": [],
        "body": {
            "username": "<STRING>",
            "password": "<STRING>"
        },
        "responses": [
            {
                "scode": 200,
                "values": {
                    "msg": "Ok",
                    "access_token": "<STRING>",
                    "refresh_token": "<STRING>"
                }
            },
            {
                "scode": 400,
                "values": {
                    "msg": "Missing parameter(s)"
                }
            },
            {
                "scode": 400,
                "values": {
                    "msg": "Wrong username or password"
                }
            }
        ]
    },

    {
        "path": "/register",
        "method": "POST",
        "desc": "Create a new user and add it into the database",
        "headers": [],
        "body": {
            "username": "<STRING>",
            "name": "<STRING>",
            "surname": "<STRING>",
            "email": "<STRING>",
            "password": "<STRING>"
        },
        "responses": [
            {
                "scode": 200,
                "values": {
                    "msg": "Ok",
                    "access_token": "<STRING>",
                    "refresh_token": "<STRING>"
                }
            },
            {
                "scode": 400,
                "values": {
                    "msg": "Missing parameter(s)"
                }
            },
            {
                "scode": 400,
                "values": {
                    "msg": "username and/or password too short"
                }
            },
            {
                "scode": 400,
                "values": {
                    "msg": "Invalid email"
                }
            },
            {
                "scode": 400,
                "values": {
                    "msg": "Already registered"
                }
            }
        ]
    },

    {
        "path": "/refresh",
        "method": "POST",
        "desc": "Generate a new access token from refresh token",
        "headers": {
            "Authorization": "Bearer: <refresh_token>"
        },
        "body": {},
        "responses": [
            {
                "scode": 200,
                "values": {
                    "msg": "Ok",
                    "access_token": "<STRING>"
                }
            },
            {
                "scode": 422,
                "values": {
                    "msg": "Only refresh tokens are allowed"
                }
            },
            {
                "scode": 401,
                "values": {
                    "msg": "Missing Authorization Header"
                }
            }
        ]
    },

    {
        "path": "/logout/access",
        "method": "POST",
        "desc": "Revoke the access token",
        "headers": {
            "Authorization": "Bearer: <access_token>"
        },
        "body": {},
        "responses": [
            {
                "scode": 200,
                "values": {
                    "msg": "Ok"
                }
            },
            {
                "scode": 422,
                "values": {
                    "msg": "Only access tokens are allowed"
                }
            },
            {
                "scode": 401,
                "values": {
                    "msg": "Missing Authorization Header"
                }
            },
            {
                "scode": 401,
                "values": {
                    "msg": "Token has been revoked"
                }
            }
        ]
    },

    {
        "path": "/logout/refresh",
        "method": "POST",
        "desc": "Revoke the refresh token",
        "headers": {
            "Authorization": "Bearer: <refresh_token>"
        },
        "body": {},
        "responses": [
            {
                "scode": 200,
                "values": {
                    "msg": "Ok"
                }
            },
            {
                "scode": 422,
                "values": {
                    "msg": "Only refresh tokens are allowed"
                }
            },
            {
                "scode": 401,
                "values": {
                    "msg": "Missing Authorization Header"
                }
            },
            {
                "scode": 401,
                "values": {
                    "msg": "Token has been revoked"
                }
            }
        ]
    },

    {
        "path": "/user",
        "method": "GET",
        "desc": "Returns your informations",
        "headers": {
            "Authorization": "Bearer: <access_token>"
        },
        "body": {},
        "responses": [
            {
                "scode": 200,
                "values": {
                    "msg": "Ok",
                    "username": "<STRING>",
                    "name": "<STRING>",
                    "surname": "<STRING>",
                    "email": "<STRING>",
                    "perms": "<INTEGER>"
                }
            },
            {
                "scode": 422,
                "values": {
                    "msg": "Only access tokens are allowed"
                }
            },
            {
                "scode": 401,
                "values": {
                    "msg": "User not specified"
                }
            },
            {
                "scode": 401,
                "values": {
                    "msg": "Token has been revoked"
                }
            },
            {
                "scode": 401,
                "values": {
                    "msg": "Token has expired"
                }
            }
        ]
    },

    {
        "path": "/user/<USERNAME>",
        "method": "GET",
        "desc": "Returns informations about the given username",
        "headers": {},
        "body": {},
        "responses": [
            {
                "scode": 200,
                "values": {
                    "msg": "Ok",
                    "username": "<STRING>",
                    "name": "<STRING>",
                    "surname": "<STRING>",
                    "perms": "<INTEGER>"
                }
            },
            {
                "scode": 404,
                "values": {
                    "msg": "User does not exists"
                }
            },
            {
                "scode": 401,
                "values": {
                    "msg": "User not specified"
                }
            }
        ]
    }
]
